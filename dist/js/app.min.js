"use strict";function _createForOfIteratorHelper(e,t){var r,a,n,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return a=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){a=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw n}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var randomIconLargeGrid,randomIconSmallGrid,randomNumberLargeGrid,randomNumberSmallGrid,getThemeCheckPair,buttons=document.querySelectorAll(".button-box button "),start=document.querySelector(".button-box__button--primary"),quantityPlayers=[],getSize=[],getTheme=[],arrayNumbers=[0,1,2,3,5,6,7,8,9,10,11,12,13,14,15,16,17,18],arrayIcons=['<i class="fa-solid fa-wheat-awn"></i>','<i class="fa-solid fa-anchor"></i>','<i class="fa-solid fa-worm"></i>','<i class="fa-solid fa-tower-cell"></i>','<i class="fa-solid fa-mountain-sun"></i>','<i class="fa-solid fa-plane-up"></i>','<i class="fa-solid fa-fish-fins"></i>','<i class="fa-solid fa-clover"></i>','<i class="fa-solid fa-mosquito"></i>','<i class="fa-solid fa-oil-well"></i>','<i class="fa-solid fa-cubes-stacked"></i>','<i class="fa-solid fa-bucket"></i>','<i class="fa-solid fa-vault"></i>','<i class="fa-solid fa-shield-dog"></i>','<i class="fa-solid fa-plant-wilt"></i>','<i class="fa-solid fa-road-barrier"></i>','<i class="fa-solid fa-ghost"></i>','<i class="fa-solid fa-chess"></i>'],gridID=0,movesArr=[],setRandomNumber=function(){var e=Array(2).fill(arrayNumbers).flat(),e=(e.sort(function(){return.5-Math.random()}),randomNumberLargeGrid=e,arrayNumbers.slice(0,8));(e=Array(2).fill(e).flat()).sort(function(){return.5-Math.random()}),randomNumberSmallGrid=e},setRandomIcon=(setRandomNumber(),function(){var e=Array(2).fill(arrayIcons).flat(),e=(e.sort(function(){return.5-Math.random()}),randomIconLargeGrid=e,arrayIcons.splice(0,8));(e=Array(2).fill(e).flat()).sort(function(){return.5-Math.random()}),randomIconSmallGrid=e}),check=(setRandomIcon(),buttons.forEach(function(e){e.addEventListener("click",function(e){for(var t=e.target.parentElement.children,r=0;r<t.length;r++)t[r].hasAttribute("autofocus","")&&(t[r].removeAttribute("autofocus"),e.target.setAttribute("autofocus",""));var a=document.querySelectorAll("[autofocus]");quantityPlayers.push(a),getSize.push(a),getTheme.push(a)})})),getUserSettings=function(e,t,r){var e=e.slice(-1),t=t.slice(-1),r=r.slice(-1),a=[];r.forEach(function(e){e=e[0].textContent;a.push(e),getThemeCheckPair=e}),e.forEach(function(e){e=e[1].textContent;createsRelevantMode(e),multiplayerMode(e)}),t.forEach(function(e){e=e[2].textContent;a.push(e)}),numberMapSize(a)},numberMapSize=function(e){var t=document.querySelector(".small-grid-container"),r=document.querySelector(".large-grid-container"),a=0;if("4x4"==e[1]&&"Numbers"==e[0])for(var n=0;n<16;n++){gridID++;var o=document.createElement("div");o.classList.add("single-card-box"),o.setAttribute("id","".concat(gridID)),o.innerHTML='\n\t\t\t<div class="card">\n\t\t\t\t<div class="theback"><i class="fa-solid fa-question"></i></div>\n\t\t\t\t<div class="thefront">'.concat(randomNumberSmallGrid[a++],"</div>\n\t\t\t</div>"),t.appendChild(o),r.classList.add("toggle-large-grid")}else if("4x4"==e[1]&&"Icons"==e[0])for(var i=0;i<16;i++){gridID++;var s=document.createElement("div");s.classList.add("single-card-box"),s.setAttribute("id","".concat(gridID)),s.innerHTML='\n\t\t\t<div class="card">\n\t\t\t<div class="theback"><i class="fa-solid fa-question"></i></div>\n\t\t\t<div class="thefront">'.concat(randomIconSmallGrid[a++],"</div>\n\t\t\t</div>"),t.appendChild(s),r.classList.add("toggle-large-grid")}else if("6x6"==e[1]&&"Icons"==e[0])for(var l=0;l<36;l++){var c=document.createElement("div");c.classList.add("single-card-box"),c.setAttribute("id","".concat(gridID)),c.innerHTML='\n\t\t\t<div class="card">\n\t\t\t<div class="theback"><i class="fa-solid fa-question"></i></div>\n\t\t\t<div class="thefront">'.concat(randomIconLargeGrid[a++],"</div>\n\t\t\t</div>"),r.appendChild(c),t.classList.add("toggle-small-grid")}else if("6x6"==e[1]&&"Numbers"==e[0])for(var d=0;d<36;d++){var u=document.createElement("div");u.classList.add("single-card-box"),u.setAttribute("id","".concat(gridID)),u.innerHTML='\n\t\t\t<div class="card">\n\t\t\t<div class="theback"><i class="fa-solid fa-question"></i></div>\n\t\t\t\t<div class="thefront">'.concat(randomNumberLargeGrid[a++],"</div>\n\t\t\t\t</div>"),r.appendChild(u),t.classList.add("toggle-small-grid")}},multiplayerMode=function(e){for(var t=document.querySelector(".footer-multiplayer"),r=1,a=1,n=0;n<e;n++){var o=document.createElement("div");o.classList.add("box-item"),o.innerHTML='\n\t\t<div class="player untracked ">\n\t\t<div class="target-turn"></div>\n\t\t<p class="short-name">P'.concat(a++,'</p>\n\t\t<p class="long-name">Player ').concat(r++,'</p>\n\t\t<p class="player__pair-number ">4</p>\n\t\t</div>\n\t\t'),t.appendChild(o)}},createsRelevantMode=function(e){var t=document.querySelector(".footer-single"),r=document.querySelector(".footer-multiplayer");1==e?(t.style.display="flex",r.style.display="none"):1<e&&(t.style.display="none",multiplayerMode(),r.style.display="flex")},prepareGame=function(){var e=document.querySelector(".start-game"),t=document.querySelector(".game-content");e.classList.toggle("toggle-start-setup"),t.classList.toggle("toggle-game-content"),getUserSettings(quantityPlayers,getSize,getTheme),createsRelevantMode()};function checkNumberPairs(){var a,n,o,i,e,t=document.querySelectorAll(".single-card-box .card"),s=1,l=!1,r=_createForOfIteratorHelper(t);try{var c=function(){function r(){a.classList.toggle("reverse"),n.classList.toggle("reverse"),l=!1}e.value.addEventListener("click",function(e){var t;l||"Numbers"!=getThemeCheckPair||(t=e.currentTarget,1==s?((a=t).classList.toggle("reverse"),o=e.currentTarget.textContent,s++):2==s&&((n=t).classList.toggle("reverse"),i=e.currentTarget.textContent,s++,o==i?console.log("to prawda, równa się"):(l=!0,setTimeout(r,1e3),console.log("nie równa się")),s=1))})};for(r.s();!(e=r.n()).done;)c()}catch(e){r.e(e)}finally{r.f()}}function checkIconPairs(){var a,n,o,i,e,t=document.querySelectorAll(".single-card-box .card"),s=1,l=2,c=!1,r=_createForOfIteratorHelper(t);try{var d=function(){function r(){a.classList.toggle("reverse"),n.classList.toggle("reverse"),c=!1}e.value.addEventListener("click",function(e){var t;c||"Icons"!=getThemeCheckPair||(t=e.currentTarget,1==s?((a=t).classList.toggle("reverse"),o=e.currentTarget.getElementsByTagName("i")[1].className,console.log(o),s++):2==s&&((n=t).classList.toggle("reverse"),i=e.currentTarget.getElementsByTagName("i")[1].className,console.log(i),l=2,movesArr.push(l),s++,o==i?console.log("to prawda, równa się"):(c=!0,setTimeout(r,1e3),console.log("nie równa się")),s=1))})};for(r.s();!(e=r.n()).done;)d()}catch(e){r.e(e)}finally{r.f()}}var countMoveQuantity=function(){document.querySelector("#moves")};function loadGame(){prepareGame(),checkNumberPairs(),checkIconPairs()}countMoveQuantity(),start.addEventListener("click",loadGame);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJyYW5kb21JY29uTGFyZ2VHcmlkIiwic21hbGxHcmlkIiwicmFuZG9tTnVtYmVyU21hbGxHcmlkIiwiYnV0dG9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInN0YXJ0IiwicXVlcnlTZWxlY3RvciIsInF1YW50aXR5UGxheWVycyIsImdldFNpemUiLCJncmlkSUQiLCJtb3Zlc0FyciIsInNldFJhbmRvbU51bWJlciIsInNldFJhbmRvbUljb24iLCJBcnJheSIsImZpbGwiLCJmbGF0IiwibGFyZ2VHcmlkIiwic29ydCIsIk1hdGgiLCJyYW5kb21OdW1iZXJMYXJnZUdyaWQiLCJyYW5kb20iLCJzbWFsbEFycmF5IiwicmFuZG9tSWNvblNtYWxsR3JpZCIsImNoZWNrIiwiZm9yRWFjaCIsImFycmF5SWNvbnMiLCJjaGVja0F0dHJpYnV0ZSIsImN1cnJlbnRCdXR0b24iLCJ0YXJnZXQiLCJhZGRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjdXJyZW50U2V0dGluZ3MiLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwibnVtYmVyT2ZQbGF5ZXJzIiwiZSIsImdldFVzZXJTZXR0aW5ncyIsImxhc3RTZXR0aW5nVXBkYXRlIiwic2xpY2UiLCJncmlkQXJlYSIsImhhc0F0dHJpYnV0ZSIsImdldFRoZW1lIiwiaSIsInJlbW92ZUF0dHJpYnV0ZSIsInB1c2giLCJnZXRSZWxldmFudFRoZW1lIiwiZ2V0VGhlbWVDaGVja1BhaXIiLCJncmlkIiwidGV4dENvbnRlbnQiLCJnZXRSZWxldmFudEdyaWQiLCJjdXJyZW50VGhlbWUiLCJudW1iZXJNYXBTaXplIiwidGhlbWUiLCJhcnIiLCJzbWFsbEdyaWRDb250YWluZXIiLCJlbCIsImdyaWRTbWFsbFNpemUiLCJjcmVhdGVzUmVsZXZhbnRNb2RlIiwibXVsdGlwbGF5ZXJNb2RlIiwidGhlbWVTaXplQXJyYXkiLCJjcmVhdGVDYXJkSXRlbSIsImNsYXNzTGlzdCIsImxhcmdlR3JpZENvbnRhaW5lciIsImluZGV4IiwiaW5uZXJIVE1MIiwiY3JlYXRlRWxlbWVudCIsImdyaWRCaWdTaXplIiwiYXBwZW5kQ2hpbGQiLCJhZGQiLCJjb25jYXQiLCJtdWx0aXBsYXllckNvbnRhaW5lciIsInBsYXllcnMiLCJwbGF5ZXJJdGVtIiwiZGlzcGxheSIsInNpbmdsZXBsYXllciIsIm11bHRpcGxheWVyIiwicHJlcGFyZUdhbWUiLCJ0b2dnbGUiLCJjb3VudGVyIiwid3JvbmciLCJJRF9kZXNrdG9wIiwidG9nZ2xlUmV2ZXJzZUNsYXNzZTEiLCJJRF9tb2JpbGUiLCJfbG9vcCIsImNhcmQiLCJ2YWx1ZSIsInByb2NlZWQiLCJjdXJyZW50VGFyZ2V0IiwidG9nZ2xlUmV2ZXJzZUNsYXNzZTIiLCJwbGF5ZXIiLCJlbGVtZW50Iiwic2Vjb25kQ2xpY2siLCJzdHlsZSIsImZpcnN0Q2xpY2siLCJjb25zb2xlIiwiZW50aXJlTWVudSIsInNob3dHYW1lQ29udGVudCIsIl9zdGVwIiwiY2FyZEJveCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX3N0ZXAyIiwiX2xvb3AyIiwic2V0VGltZW91dCIsInMiLCJuIiwiZG9uZSIsImVyciIsImYiLCJjaGVja0ljb25QYWlycyIsIm1vdmVzIiwiX2l0ZXJhdG9yMiIsImZsaXBPdmVyIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjbGFzc05hbWUiLCJsb2ciLCJjb3VudE1vdmVRdWFudGl0eSIsImxvYWRHYW1lIiwiY2hlY2tOdW1iZXJQYWlycyJdLCJtYXBwaW5ncyI6Im9vQ0FBQSxJQTJDQ0Esb0JBQ0FDLG9CQUNBQSxzQkFDQ0Msc0JBRURBLGtCQWhES0MsUUFBVUMsU0FBU0MsaUJBQWlCLHFCQUFxQixFQUN6REMsTUFBUUYsU0FBU0csY0FBYyw4QkFBOEIsRUFFL0RDLGdCQUFrQixHQUNsQkMsUUFBVSxHQUpSTixTQUFVQyxHQUNWRSxhQUFRRixDQUFRLEVBQUNHLEVBQUFBLEVBQUFBLEVBQUFBLEVBQWMsRUFBQSxF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aUJ2QyxPQUFHLFNBQXBCdUMsRUFDTHpCLEVBQW1CeEYsRUFBQUEsY0FBU0cscUJBQXVCLEdBQUEsRUFBQSxHQUFBNEcsVUFDbkRwQixRQUFBcUIsSUFBQXhCLENBQUEsRUFDRHlCLEVBQUFBLEVBQ0ExRyxTQUFBa0MsS0FBQWtFLENBQUEsRUFDQWhDLENBQVN1QyxHQUNSekMsR0FBYWUsRUFDYjJCLFFBQUFBLElBQWdCLHNCQUFFLEdBR2JyRixFQUFBQSxDQUFBQSxFQXBCQXNFLFdBQVdqQixFQUFTLEdBQUksRUFDeEJRLFFBQVFxQixJQUFJLGVBQWUsR0FFNUJyQyxFQUFVLEdBR2IsQ0FDdUMsQ0FDeEMsRUFyQ0EsSUFBQWlDLEVBQUFQLEVBQUEsRUFBQSxFQUFBSCxFQUFBVSxFQUFBTixFQUFBLEdBQUFDLE1BQUFKLEVBQUEsQ0FxQ0MsQ0FBQSxNQUFBSyxHQUFBSSxFQUFBNUUsRUFBQXdFLENBQUEsQ0FBQSxDQUFBLFFBQUFJLEVBQUFILEVBQUEsQ0FBQSxDQUNGLENBQ0EsSUFBTVEsa0JBQW9CLFdBQ05qSCxTQUFTRyxjQUFjLFFBQVEsQ0FDbkQsRUFHQSxTQUFTK0csV0FDUnpDLFlBQVcsRUFDWDBDLGlCQUFnQixFQUNoQlQsZUFBYyxDQUNmLENBTkFPLGtCQUFpQixFQU9qQi9HLE1BQU00QixpQkFBaUIsUUFBU29GLFFBQVEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uLWJveCBidXR0b24gJylcclxuY29uc3Qgc3RhcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWJveF9fYnV0dG9uLS1wcmltYXJ5JylcclxuXHJcbmxldCBxdWFudGl0eVBsYXllcnMgPSBbXSAvLyBVc2VyIHNldHRpbmdzICdudW1iZXJzIG9mIHBsYXllcnMnXHJcbmxldCBnZXRTaXplID0gW10gLy8gVXNlciBzZXR0aW5ncyAnZ3JpZCBzaXplJ1xyXG5sZXQgZ2V0VGhlbWUgPSBbXSAvLyBVc2VyIHNldHRpbmdzICdzZWxlY3QgdGhlbWUnXHJcbmxldCBhcnJheU51bWJlcnMgPSBbMCwgMSwgMiwgMywgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOF1cclxubGV0IGFycmF5SWNvbnMgPSBbXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtd2hlYXQtYXduXCI+PC9pPicsXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtYW5jaG9yXCI+PC9pPicsXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtd29ybVwiPjwvaT4nLFxyXG5cdCc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRvd2VyLWNlbGxcIj48L2k+JyxcclxuXHQnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1tb3VudGFpbi1zdW5cIj48L2k+JyxcclxuXHQnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wbGFuZS11cFwiPjwvaT4nLFxyXG5cdCc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWZpc2gtZmluc1wiPjwvaT4nLFxyXG5cdCc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNsb3ZlclwiPjwvaT4nLFxyXG5cdCc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLW1vc3F1aXRvXCI+PC9pPicsXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtb2lsLXdlbGxcIj48L2k+JyxcclxuXHQnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1jdWJlcy1zdGFja2VkXCI+PC9pPicsXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtYnVja2V0XCI+PC9pPicsXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtdmF1bHRcIj48L2k+JyxcclxuXHQnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1zaGllbGQtZG9nXCI+PC9pPicsXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtcGxhbnQtd2lsdFwiPjwvaT4nLFxyXG5cdCc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXJvYWQtYmFycmllclwiPjwvaT4nLFxyXG5cdCc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWdob3N0XCI+PC9pPicsXHJcblx0JzxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2hlc3NcIj48L2k+JyxcclxuXVxyXG5sZXQgcmFuZG9tSWNvbkxhcmdlR3JpZCAvLyBHZW5lcmF0ZXMgcmFuZG9tIEljb25zIGluIGdhbWVcclxubGV0IHJhbmRvbUljb25TbWFsbEdyaWQgLy9cclxubGV0IHJhbmRvbU51bWJlckxhcmdlR3JpZCAvLyBHZW5lcmF0ZXMgcmFuZG9tIE51bWJlcnMgaW4gZ2FtZVxyXG5sZXQgcmFuZG9tTnVtYmVyU21hbGxHcmlkIC8vXHJcbmxldCBncmlkSUQgPSAwIC8vIGFkZHMgSUQgdG8gZWFjaCBjcmVhdGVkIGVsZW1lbnRcclxubGV0IGdldFRoZW1lQ2hlY2tQYWlyXHJcbmxldCBtb3Zlc0FyciA9IFtdXHJcblxyXG4vLyBBZGRzIHJhbmRvbSBudW1iZXIgdG8gZWFjaCBjYXJkXHJcbmNvbnN0IHNldFJhbmRvbU51bWJlciA9ICgpID0+IHtcclxuXHRjb25zdCBsYXJnZUdyaWQgPSBBcnJheSgyKS5maWxsKGFycmF5TnVtYmVycykuZmxhdCgpXHJcblx0bGFyZ2VHcmlkLnNvcnQoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKClcclxuXHR9KVxyXG5cdHJhbmRvbU51bWJlckxhcmdlR3JpZCA9IGxhcmdlR3JpZFxyXG5cclxuXHRsZXQgc21hbGxHcmlkID0gYXJyYXlOdW1iZXJzLnNsaWNlKDAsIDgpXHJcblx0c21hbGxHcmlkID0gQXJyYXkoMikuZmlsbChzbWFsbEdyaWQpLmZsYXQoKVxyXG5cdHNtYWxsR3JpZC5zb3J0KGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpXHJcblx0fSlcclxuXHRyYW5kb21OdW1iZXJTbWFsbEdyaWQgPSBzbWFsbEdyaWRcclxufVxyXG5zZXRSYW5kb21OdW1iZXIoKVxyXG5cclxuLy8gQWRkcyByYW5kb20gSWNvbiB0byBlYWNoIGNhcmRcclxuY29uc3Qgc2V0UmFuZG9tSWNvbiA9ICgpID0+IHtcclxuXHQvLyBJY29ucyBmb3IgbGFyZ2UgZ3JpZCBzaXplXHJcblx0Y29uc3QgbGFyZ2VHcmlkID0gQXJyYXkoMikuZmlsbChhcnJheUljb25zKS5mbGF0KClcclxuXHRsYXJnZUdyaWQuc29ydChmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKVxyXG5cdH0pXHJcblx0cmFuZG9tSWNvbkxhcmdlR3JpZCA9IGxhcmdlR3JpZFxyXG5cdC8vIEljb25zIGZvciBzbWFsbCBncmlkIHNpemVcclxuXHRsZXQgc21hbGxBcnJheSA9IGFycmF5SWNvbnMuc3BsaWNlKDAsIDgpXHJcblx0c21hbGxBcnJheSA9IEFycmF5KDIpLmZpbGwoc21hbGxBcnJheSkuZmxhdCgpXHJcblx0c21hbGxBcnJheS5zb3J0KGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpXHJcblx0fSlcclxuXHRyYW5kb21JY29uU21hbGxHcmlkID0gc21hbGxBcnJheVxyXG59XHJcbnNldFJhbmRvbUljb24oKVxyXG5cclxuLy8gQ0hFQ0tTIFdIRVJFIENVUlJFTlRMWSBUSEUgJ0FVVE9GT0NVUycgQVRUUklCVVRFIElTXHJcbmNvbnN0IGNoZWNrID0gYnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XHJcblx0Y29uc3QgY2hlY2tBdHRyaWJ1dGUgPSBlID0+IHtcclxuXHRcdGNvbnN0IGN1cnJlbnRCdXR0b24gPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRCdXR0b24ubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGN1cnJlbnRCdXR0b25baV0uaGFzQXR0cmlidXRlKCdhdXRvZm9jdXMnLCAnJykpIHtcclxuXHRcdFx0XHRjb25zdCByZW1vdmVBdHRyaWJ1dGUgPSBjdXJyZW50QnV0dG9uW2ldLnJlbW92ZUF0dHJpYnV0ZSgnYXV0b2ZvY3VzJylcclxuXHRcdFx0XHRjb25zdCBhZGRBdHRyaWJ1dGUgPSBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2F1dG9mb2N1cycsICcnKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRjb25zdCBjdXJyZW50U2V0dGluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbYXV0b2ZvY3VzXScpXHJcblx0XHRxdWFudGl0eVBsYXllcnMucHVzaChjdXJyZW50U2V0dGluZ3MpXHJcblx0XHRnZXRTaXplLnB1c2goY3VycmVudFNldHRpbmdzKVxyXG5cdFx0Z2V0VGhlbWUucHVzaChjdXJyZW50U2V0dGluZ3MpXHJcblx0fVxyXG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrQXR0cmlidXRlKVxyXG59KVxyXG5cclxuLy8gRE9XTkxPQURTIENVUlJFTlQgU0VUVElOR1NcclxuY29uc3QgZ2V0VXNlclNldHRpbmdzID0gKHF1YW50aXR5UGxheWVycywgZ2V0U2l6ZSwgZ2V0VGhlbWUpID0+IHtcclxuXHRjb25zdCBsYXN0U2V0dGluZ1VwZGF0ZSA9IHF1YW50aXR5UGxheWVycy5zbGljZSgtMSlcclxuXHRjb25zdCBncmlkQXJlYSA9IGdldFNpemUuc2xpY2UoLTEpXHJcblx0Y29uc3QgY3VycmVudFRoZW1lID0gZ2V0VGhlbWUuc2xpY2UoLTEpXHJcblx0bGV0IGFyciA9IFtdXHJcblx0Y3VycmVudFRoZW1lLmZvckVhY2godGhlbWUgPT4ge1xyXG5cdFx0Y29uc3QgZ2V0UmVsZXZhbnRUaGVtZSA9IHRoZW1lWzBdLnRleHRDb250ZW50XHJcblx0XHRhcnIucHVzaChnZXRSZWxldmFudFRoZW1lKVxyXG5cdFx0Z2V0VGhlbWVDaGVja1BhaXIgPSBnZXRSZWxldmFudFRoZW1lIC8vY2hlY2sgUGFpciBmdW5jdGlvblxyXG5cdH0pXHJcblx0bGFzdFNldHRpbmdVcGRhdGUuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRjb25zdCBudW1iZXJPZlBsYXllcnMgPSBlbFsxXS50ZXh0Q29udGVudFxyXG5cdFx0Y3JlYXRlc1JlbGV2YW50TW9kZShudW1iZXJPZlBsYXllcnMpXHJcblx0XHRtdWx0aXBsYXllck1vZGUobnVtYmVyT2ZQbGF5ZXJzKVxyXG5cdH0pXHJcblx0Z3JpZEFyZWEuZm9yRWFjaChncmlkID0+IHtcclxuXHRcdGNvbnN0IGdldFJlbGV2YW50R3JpZCA9IGdyaWRbMl0udGV4dENvbnRlbnRcclxuXHRcdGFyci5wdXNoKGdldFJlbGV2YW50R3JpZClcclxuXHR9KVxyXG5cdG51bWJlck1hcFNpemUoYXJyKVxyXG59XHJcbi8vIENyZWF0ZXMgcmVsZXZhbnQgc2l6ZSBvZiBtYXBcclxuY29uc3QgbnVtYmVyTWFwU2l6ZSA9IHRoZW1lU2l6ZUFycmF5ID0+IHtcclxuXHRjb25zdCBzbWFsbEdyaWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc21hbGwtZ3JpZC1jb250YWluZXInKVxyXG5cdGNvbnN0IGxhcmdlR3JpZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXJnZS1ncmlkLWNvbnRhaW5lcicpXHJcblx0bGV0IGluZGV4ID0gMFxyXG5cdGNvbnN0IGdyaWRTbWFsbFNpemUgPSAxNlxyXG5cdGNvbnN0IGdyaWRCaWdTaXplID0gMzZcclxuXHJcblx0aWYgKHRoZW1lU2l6ZUFycmF5WzFdID09ICc0eDQnICYmIHRoZW1lU2l6ZUFycmF5WzBdID09ICdOdW1iZXJzJykge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBncmlkU21hbGxTaXplOyBpKyspIHtcclxuXHRcdFx0Z3JpZElEKytcclxuXHJcblx0XHRcdGNvbnN0IGNyZWF0ZUNhcmRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdFx0Y3JlYXRlQ2FyZEl0ZW0uY2xhc3NMaXN0LmFkZCgnc2luZ2xlLWNhcmQtYm94JylcclxuXHRcdFx0Y3JlYXRlQ2FyZEl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIGAke2dyaWRJRH1gKVxyXG5cdFx0XHRjcmVhdGVDYXJkSXRlbS5pbm5lckhUTUwgPSBgXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRoZWJhY2tcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXF1ZXN0aW9uXCI+PC9pPjwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aGVmcm9udFwiPiR7cmFuZG9tTnVtYmVyU21hbGxHcmlkW2luZGV4KytdfTwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5gXHJcblx0XHRcdHNtYWxsR3JpZENvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVDYXJkSXRlbSlcclxuXHRcdFx0bGFyZ2VHcmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RvZ2dsZS1sYXJnZS1ncmlkJylcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKHRoZW1lU2l6ZUFycmF5WzFdID09ICc0eDQnICYmIHRoZW1lU2l6ZUFycmF5WzBdID09ICdJY29ucycpIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZ3JpZFNtYWxsU2l6ZTsgaSsrKSB7XHJcblx0XHRcdGdyaWRJRCsrXHJcblx0XHRcdGNvbnN0IGNyZWF0ZUNhcmRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdFx0Y3JlYXRlQ2FyZEl0ZW0uY2xhc3NMaXN0LmFkZCgnc2luZ2xlLWNhcmQtYm94JylcclxuXHRcdFx0Y3JlYXRlQ2FyZEl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIGAke2dyaWRJRH1gKVxyXG5cdFx0XHRjcmVhdGVDYXJkSXRlbS5pbm5lckhUTUwgPSBgXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkXCI+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJ0aGViYWNrXCI+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1xdWVzdGlvblwiPjwvaT48L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInRoZWZyb250XCI+JHtyYW5kb21JY29uU21hbGxHcmlkW2luZGV4KytdfTwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5gXHJcblx0XHRcdHNtYWxsR3JpZENvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVDYXJkSXRlbSlcclxuXHRcdFx0bGFyZ2VHcmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RvZ2dsZS1sYXJnZS1ncmlkJylcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKHRoZW1lU2l6ZUFycmF5WzFdID09ICc2eDYnICYmIHRoZW1lU2l6ZUFycmF5WzBdID09ICdJY29ucycpIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZ3JpZEJpZ1NpemU7IGkrKykge1xyXG5cdFx0XHRjb25zdCBjcmVhdGVDYXJkSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0XHRcdGNyZWF0ZUNhcmRJdGVtLmNsYXNzTGlzdC5hZGQoJ3NpbmdsZS1jYXJkLWJveCcpXHJcblx0XHRcdGNyZWF0ZUNhcmRJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtncmlkSUR9YClcclxuXHRcdFx0Y3JlYXRlQ2FyZEl0ZW0uaW5uZXJIVE1MID0gYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZFwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwidGhlYmFja1wiPjxpIGNsYXNzPVwiZmEtc29saWQgZmEtcXVlc3Rpb25cIj48L2k+PC9kaXY+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJ0aGVmcm9udFwiPiR7cmFuZG9tSWNvbkxhcmdlR3JpZFtpbmRleCsrXX08L2Rpdj5cclxuXHRcdFx0PC9kaXY+YFxyXG5cclxuXHRcdFx0bGFyZ2VHcmlkQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUNhcmRJdGVtKVxyXG5cdFx0XHRzbWFsbEdyaWRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9nZ2xlLXNtYWxsLWdyaWQnKVxyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAodGhlbWVTaXplQXJyYXlbMV0gPT0gJzZ4NicgJiYgdGhlbWVTaXplQXJyYXlbMF0gPT0gJ051bWJlcnMnKSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGdyaWRCaWdTaXplOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY3JlYXRlQ2FyZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdFx0XHRjcmVhdGVDYXJkSXRlbS5jbGFzc0xpc3QuYWRkKCdzaW5nbGUtY2FyZC1ib3gnKVxyXG5cdFx0XHRjcmVhdGVDYXJkSXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7Z3JpZElEfWApXHJcblx0XHRcdGNyZWF0ZUNhcmRJdGVtLmlubmVySFRNTCA9IGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cImNhcmRcIj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInRoZWJhY2tcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXF1ZXN0aW9uXCI+PC9pPjwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aGVmcm9udFwiPiR7cmFuZG9tTnVtYmVyTGFyZ2VHcmlkW2luZGV4KytdfTwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PmBcclxuXHRcdFx0bGFyZ2VHcmlkQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUNhcmRJdGVtKVxyXG5cdFx0XHRzbWFsbEdyaWRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9nZ2xlLXNtYWxsLWdyaWQnKVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4vLyBDUkVBVEVTIFBMQVlFUlNcclxuY29uc3QgbXVsdGlwbGF5ZXJNb2RlID0gcGxheWVycyA9PiB7XHJcblx0Y29uc3QgbXVsdGlwbGF5ZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLW11bHRpcGxheWVyJylcclxuXHRsZXQgSURfZGVza3RvcCA9IDFcclxuXHRsZXQgSURfbW9iaWxlID0gMVxyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHBsYXllcnM7IGkrKykge1xyXG5cdFx0Y29uc3QgcGxheWVySXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0XHRwbGF5ZXJJdGVtLmNsYXNzTGlzdC5hZGQoJ2JveC1pdGVtJylcclxuXHRcdHBsYXllckl0ZW0uaW5uZXJIVE1MID0gYFxyXG5cdFx0PGRpdiBjbGFzcz1cInBsYXllciB1bnRyYWNrZWQgXCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwidGFyZ2V0LXR1cm5cIj48L2Rpdj5cclxuXHRcdDxwIGNsYXNzPVwic2hvcnQtbmFtZVwiPlAke0lEX21vYmlsZSsrfTwvcD5cclxuXHRcdDxwIGNsYXNzPVwibG9uZy1uYW1lXCI+UGxheWVyICR7SURfZGVza3RvcCsrfTwvcD5cclxuXHRcdDxwIGNsYXNzPVwicGxheWVyX19wYWlyLW51bWJlciBcIj40PC9wPlxyXG5cdFx0PC9kaXY+XHJcblx0XHRgXHJcblx0XHRtdWx0aXBsYXllckNvbnRhaW5lci5hcHBlbmRDaGlsZChwbGF5ZXJJdGVtKVxyXG5cdH1cclxufVxyXG5jb25zdCBjcmVhdGVzUmVsZXZhbnRNb2RlID0gcGxheWVyID0+IHtcclxuXHRjb25zdCBzaW5nbGVwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLXNpbmdsZScpXHJcblx0Y29uc3QgbXVsdGlwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLW11bHRpcGxheWVyJylcclxuXHRpZiAocGxheWVyID09IDEpIHtcclxuXHRcdHNpbmdsZXBsYXllci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcblx0XHRtdWx0aXBsYXllci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0fSBlbHNlIGlmIChwbGF5ZXIgPiAxKSB7XHJcblx0XHRzaW5nbGVwbGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0bXVsdGlwbGF5ZXJNb2RlKClcclxuXHRcdG11bHRpcGxheWVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuXHR9XHJcbn1cclxuY29uc3QgcHJlcGFyZUdhbWUgPSAoKSA9PiB7XHJcblx0Y29uc3QgZW50aXJlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGFydC1nYW1lJylcclxuXHRjb25zdCBzaG93R2FtZUNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1jb250ZW50JylcclxuXHRlbnRpcmVNZW51LmNsYXNzTGlzdC50b2dnbGUoJ3RvZ2dsZS1zdGFydC1zZXR1cCcpXHJcblx0c2hvd0dhbWVDb250ZW50LmNsYXNzTGlzdC50b2dnbGUoJ3RvZ2dsZS1nYW1lLWNvbnRlbnQnKVxyXG5cdGdldFVzZXJTZXR0aW5ncyhxdWFudGl0eVBsYXllcnMsIGdldFNpemUsIGdldFRoZW1lKVxyXG5cdGNyZWF0ZXNSZWxldmFudE1vZGUoKVxyXG59XHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBUTyBNT0dFIEVYUE9SVE9XQcSGXHJcbmZ1bmN0aW9uIGNoZWNrTnVtYmVyUGFpcnMoKSB7XHJcblx0Y29uc3QgY2FyZEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaW5nbGUtY2FyZC1ib3ggLmNhcmQnKVxyXG5cdGxldCBjb3VudGVyID0gMVxyXG5cdGxldCB3cm9uZyA9IGZhbHNlXHJcblx0bGV0IHRvZ2dsZVJldmVyc2VDbGFzc2UxLCB0b2dnbGVSZXZlcnNlQ2xhc3NlMiwgZmlyc3RDbGljaywgc2Vjb25kQ2xpY2tcclxuXHRmb3IgKGNvbnN0IGNhcmQgb2YgY2FyZEJveCkge1xyXG5cdFx0ZnVuY3Rpb24gcHJvY2VlZCgpIHtcclxuXHRcdFx0dG9nZ2xlUmV2ZXJzZUNsYXNzZTEuY2xhc3NMaXN0LnRvZ2dsZSgncmV2ZXJzZScpXHJcblx0XHRcdHRvZ2dsZVJldmVyc2VDbGFzc2UyLmNsYXNzTGlzdC50b2dnbGUoJ3JldmVyc2UnKVxyXG5cdFx0XHR3cm9uZyA9IGZhbHNlXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBmbGlwT3ZlcihlKSB7XHJcblx0XHRcdGlmICghd3JvbmcgJiYgZ2V0VGhlbWVDaGVja1BhaXIgPT0gJ051bWJlcnMnKSB7XHJcblx0XHRcdFx0bGV0IGVsZW1lbnQgPSBlLmN1cnJlbnRUYXJnZXRcclxuXHJcblx0XHRcdFx0aWYgKGNvdW50ZXIgPT0gMSkge1xyXG5cdFx0XHRcdFx0dG9nZ2xlUmV2ZXJzZUNsYXNzZTEgPSBlbGVtZW50XHJcblx0XHRcdFx0XHRlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ3JldmVyc2UnKVxyXG5cdFx0XHRcdFx0Zmlyc3RDbGljayA9IGUuY3VycmVudFRhcmdldC50ZXh0Q29udGVudFxyXG5cdFx0XHRcdFx0Y291bnRlcisrXHJcblx0XHRcdFx0fSBlbHNlIGlmIChjb3VudGVyID09IDIpIHtcclxuXHRcdFx0XHRcdHRvZ2dsZVJldmVyc2VDbGFzc2UyID0gZWxlbWVudFxyXG5cdFx0XHRcdFx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdyZXZlcnNlJylcclxuXHRcdFx0XHRcdHNlY29uZENsaWNrID0gZS5jdXJyZW50VGFyZ2V0LnRleHRDb250ZW50XHJcblx0XHRcdFx0XHRjb3VudGVyKytcclxuXHRcdFx0XHRcdGlmIChmaXJzdENsaWNrID09IHNlY29uZENsaWNrKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCd0byBwcmF3ZGEsIHLDs3duYSBzacSZJylcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHdyb25nID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KHByb2NlZWQsIDEwMDApXHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCduaWUgcsOzd25hIHNpxJknKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y291bnRlciA9IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmbGlwT3ZlcilcclxuXHR9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tJY29uUGFpcnMoKSB7XHJcblx0Y29uc3QgY2FyZEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaW5nbGUtY2FyZC1ib3ggLmNhcmQnKVxyXG5cdGxldCBjb3VudGVyID0gMVxyXG5cdGxldCBtb3ZlcyA9IDJcclxuXHRsZXQgd3JvbmcgPSBmYWxzZVxyXG5cdGxldCB0b2dnbGVSZXZlcnNlQ2xhc3NlMSwgdG9nZ2xlUmV2ZXJzZUNsYXNzZTIsIGZpcnN0Q2xpY2ssIHNlY29uZENsaWNrXHJcblx0Zm9yIChjb25zdCBjYXJkIG9mIGNhcmRCb3gpIHtcclxuXHRcdGZ1bmN0aW9uIHByb2NlZWQoKSB7XHJcblx0XHRcdHRvZ2dsZVJldmVyc2VDbGFzc2UxLmNsYXNzTGlzdC50b2dnbGUoJ3JldmVyc2UnKVxyXG5cdFx0XHR0b2dnbGVSZXZlcnNlQ2xhc3NlMi5jbGFzc0xpc3QudG9nZ2xlKCdyZXZlcnNlJylcclxuXHRcdFx0d3JvbmcgPSBmYWxzZVxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZmxpcE92ZXIoZSkge1xyXG5cdFx0XHRpZiAoIXdyb25nICYmIGdldFRoZW1lQ2hlY2tQYWlyID09ICdJY29ucycpIHtcclxuXHRcdFx0XHRsZXQgZWxlbWVudCA9IGUuY3VycmVudFRhcmdldFxyXG5cclxuXHRcdFx0XHRpZiAoY291bnRlciA9PSAxKSB7XHJcblx0XHRcdFx0XHR0b2dnbGVSZXZlcnNlQ2xhc3NlMSA9IGVsZW1lbnRcclxuXHRcdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgncmV2ZXJzZScpXHJcblx0XHRcdFx0XHRmaXJzdENsaWNrID0gZS5jdXJyZW50VGFyZ2V0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpJylbMV0uY2xhc3NOYW1lXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhmaXJzdENsaWNrKVxyXG5cdFx0XHRcdFx0Y291bnRlcisrXHJcblx0XHRcdFx0fSBlbHNlIGlmIChjb3VudGVyID09IDIpIHtcclxuXHRcdFx0XHRcdHRvZ2dsZVJldmVyc2VDbGFzc2UyID0gZWxlbWVudFxyXG5cdFx0XHRcdFx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdyZXZlcnNlJylcclxuXHRcdFx0XHRcdHNlY29uZENsaWNrID0gZS5jdXJyZW50VGFyZ2V0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpJylbMV0uY2xhc3NOYW1lXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhzZWNvbmRDbGljaylcclxuXHRcdFx0XHRcdG1vdmVzID0gMlxyXG5cdFx0XHRcdFx0bW92ZXNBcnIucHVzaChtb3ZlcylcclxuXHRcdFx0XHRcdGNvdW50ZXIrK1xyXG5cdFx0XHRcdFx0aWYgKGZpcnN0Q2xpY2sgPT0gc2Vjb25kQ2xpY2spIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ3RvIHByYXdkYSwgcsOzd25hIHNpxJknKVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHdyb25nID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KHByb2NlZWQsIDEwMDApXHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCduaWUgcsOzd25hIHNpxJknKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y291bnRlciA9IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmbGlwT3ZlcilcclxuXHR9XHJcbn1cclxuY29uc3QgY291bnRNb3ZlUXVhbnRpdHkgPSAoKSA9PiB7XHJcblx0Y29uc3QgbW92ZXNJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb3ZlcycpXHJcbn1cclxuY291bnRNb3ZlUXVhbnRpdHkoKVxyXG4vL3VydWNoYW1pYW15IHdzenlzdGtvIHcga29sZWpub3NjaVxyXG5mdW5jdGlvbiBsb2FkR2FtZSgpIHtcclxuXHRwcmVwYXJlR2FtZSgpXHJcblx0Y2hlY2tOdW1iZXJQYWlycygpXHJcblx0Y2hlY2tJY29uUGFpcnMoKVxyXG59XHJcbnN0YXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbG9hZEdhbWUpXHJcbiJdfQ==
